<!DOCTYPE html>
<html>
  <head>
    <title>Sign Up</title>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
         <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
         <link rel="stylesheet" href="style2.css">

  </head>
<body>
<form action="database.php" method="POST" id="form">
<h2><i>Sign Up Form</i></h2>
<label>username:<input type="text" name="user" id="uname"></label><br>
<span id="error"></span>
<label>password:<input type="password" name="password" id="upwd"></label><br>
<span id="perror"></span>
<label>phonenumber:<input type="text" name="phoneno" id="phone"></label><br>
<span id="pherror"></span>
<label>Email:<input type="text" name="email" id="mail"></label><br>
<span id="merror"></span><br>
<button type="submit" class="btn btn-outline-secondary">SUBMIT</button>
<a href="index.html" class="btn btn-outline-primary" role="button">BACK</a>
</form>

<script>
	let form=document.getElementById('form');
	let uname=document.getElementById('uname');
	let uerror=document.getElementById('error');
	let upwd=document.getElementById('upwd');
	let perror=document.getElementById('perror');
	let pno=document.getElementById('phone');
	let pherror=document.getElementById('pherror');
	let mail=document.getElementById('mail');
	let eerror=document.getElementById('merror');
	form.addEventListener('submit',(event)=>{
						event.preventDefault(event);
						uvalidate(event);
						pvalidate(event);
						phvalidate(event);
						evalidate(event);
						submit();
					});
	function uvalidate(event)
	{
	
	let name=uname.value.trim();
		if (name=="")
		{
		uerror.innerText="Textshould not be empty.\n";
		}
		else if(name.length<3)
		{
		uerror.innerText="should contain atleast 3 characters\n";
		}
		else if (!isNaN(name))
		{
		uerror.innerText="text should not have digits.\n";
		}
		else
		{
			uerror.innerText="";
			u=0;
		}
	}
	function pvalidate(event)
	{
	let pwd=upwd.value.trim();
		if (pwd=="")		
		{
		perror.innerText="password cant be empty.\n";
		}
		else if (pwd.length<3)
		{
		perror.innerText="password length should be more than 3 characters.\n";
		}
		else if (!(pwd.match(/[a-z]/)))
		{
		perror.innerText="atleast one alphabet.\n";
		}
		else if (!(pwd.match(/[A-Z]/)))
		{
		perror.innerText="atleast one uppercase.\n";
		}
		else if (!(pwd.match(/[0-9]/)))
		{
		perror.innerText="atleast one digit.\n";
		}
		else if(!(pwd.match(/[$#@-]/)))
		{
		perror.innerText="atleast one special character.\n";
		}
		else
		{
			perror.innerText="";
			p=0;
		}
	}
	function phvalidate(event)
	{
	let phone=pno.value.trim();
		if (phone=="")
		{
		pherror.innerText="phone number should not be empty.\n";
		}
		else if (!(phone.match(/^([0/91]?)([6-9])([0-9]{9})$/)))
		{
		pherror.innerText="Invalid phone number\n";
		}
		else
		{
			pherror.innerText="";
			ph=0;
		}
	}
	function evalidate(event)
	{
	let email=mail.value.trim();
	let pattern=/^([a-zA-Z0-9\.-]+)@([a-zA-Z0-9-]+)\.([a-z]{3})$/;
	let pattern1=/^([a-zA-Z0-9\.-]+)@([a-zA-Z0-9-]+)\.([a-zA-z]{2})\.([a-zA-z]{2})$/;
		if( email=="")
		{
		eerror.innerText="mail should not be empty.\n";
		}
		else if(!(email.match(pattern) || email.match(pattern1)))
		{
		eerror.innerText="enter valid email.\n";
		}
		else
		{
			eerror.innerText="";
			e=0;	
		}
	}
	function submit()
	{
	if((u==0)&&(p==0)&&(ph==0)&&(e==0))
	{
		form.submit();
	}
	}
</script>
</body>
</html>
